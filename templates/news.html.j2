{% extends htdocs_layout %}

{% block head_title %}News / announcements{% endblock %}
{% block head_pagedescription %}Project news and announcements{% endblock %}

{% block content %}

<p id="202202071900" class="pagesubtitle">2022-02-07 - Tagged ansible-ae-dir-server 0.32.10</p>
<p>Changes since 0.32.9:</p>
<ul>
  <li>
    Background update process <var>aedir_pproc.cron</var> now runs as
    non-privileged user <em>ae-dir-updater</em> which is member of
    group <em>ae-admins</em> instead of running as <em>rootdn</em>
    (see <a href="https://code.stroeder.com/AE-DIR/ansible-ae-dir-server/issues/14">ansible-ae-dir-server #14</a>).
  </li>
  <li>
    Update to <a href="https://www.web2ldap.de/changes-1.7.html#r1.7.1">web2ldap 1.7.1+</a>.
  </li>
</ul>

<p id="202202041900" class="pagesubtitle">2022-02-04 - Tagged ansible-ae-dir-server 0.32.9</p>
<p>Changes since 0.32.8:</p>
<ul>
  <li>
    All systemd service units now use <code>ProtectSystem=strict</code>
    with appropriate <code>ReadWritePaths=</code> to also bind-mount
    non-standard directories, e.g. <code>/opt</code>, as read-only to
    further reduce attack surface even in case AppArmor is not used.
    <br>
    See also:
    <ul>
      <li>
        <a href="https://code.stroeder.com/AE-DIR/ansible-ae-dir-server/issues/17">ansible-ae-dir-server #17</a>
      </li>
      <li>
        <a href="https://www.freedesktop.org/software/systemd/man/systemd.exec.html#Sandboxing">systemd.exec(5)</a>
      </li>
    </ul>
  </li>
  <li>
    Added appropriate
    <a href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#inappropriate-for-the-control">
      autocomplete attribute
    </a> to input fields in login and change password forms.
  </li>
</ul>

<p id="202201300000" class="pagesubtitle">2022-01-30 - Tagged ansible-ae-dir-server 0.32.8</p>
<p>Changes since 0.32.7:</p>
<ul>
  <li>
    Update to <a href="https://www.web2ldap.de/changes-1.7.html#r1.7.0">web2ldap 1.7.0+</a>.
    Because of HTML and CSS changes running an ansible play is required.
  </li>
</ul>

<p id="202201241900" class="pagesubtitle">2022-01-24 - Tagged ansible-ae-dir-server 0.32.7</p>
<p>Changes since 0.32.6:</p>
<ul>
  <li>
    Re-factored use of <em>slapdcheck</em>:
    <ul>
      <li>
        Renamed ansible vars <var>slapd_check_*</var> to <var>slapdcheck_*</var>.
        Please update your <code>group_vars</code> accordingly.
      </li>
      <li>
        If new ansible var <var>slapdcheck_interval</var> (seconds) is
        greater than zero a systemd unit <code>slapdcheck.timer</code> is
        installed which triggers <code>slapdcheck.service</code> based on
        this interval.
      </li>
      <li>
        New ansible var <var>slapdcheck_module</var> is used to specify
        which sub-module is invoked. See file
        <a href="https://code.stroeder.com/AE-DIR/ansible-ae-dir-server/src/branch/master/defaults/main.yml">defaults/main.yml</a>
        for details.
      </li>
      <li>
        The old wrapper script
        <code>/opt/ae-dir/sbin/slapd_checkmk.sh</code>
        was replaced by
        <code>/opt/ae-dir/sbin/slapdcheck.sh</code> which also invokes the
        module specified <var>slapdcheck_module</var>.
      </li>
    </ul>
  </li>
</ul>

<p id="202201182200" class="pagesubtitle">2022-01-18 - Released aehostd 1.5.4</p>
<p>
  <em>aehostd 1.5.4</em> fixes a socket-reading bug which caused failures
  when receiving PAM requests
  (for details see <a href="https://code.stroeder.com/AE-DIR/aehostd/issues/3">issue #3</a>).
  <br>
  <strong>Update is highly recommended!</strong>
</p>

<p id="202201162000" class="pagesubtitle">2022-01-16 - Tagged ansible-ae-dir-server 0.32.6</p>
<p>Changes since 0.32.5:</p>
<ul>
  <li>
    Update to <em>slapdcheck 3.10.0</em> with the following changes:
    <ul>
      <li>generate HTML output</li>
      <li>generate JSON output</li>
      <li>send metrics to ZABBIX trapper</li>
    </ul>
  </li>
</ul>

<p id="202201062000" class="pagesubtitle">2022-01-06 - Tagged ansible-ae-dir-server 0.32.5</p>
<p>Changes since 0.32.4:</p>
<ul>
  <li>
    Update to <em>ae-dir-pproc 1.6.2</em>:
    <ul>
      <li>
        When the user changes / resets own password an e-mail is sent to the
        user as additional notification
        (<a href="https://code.stroeder.com/AE-DIR/ae-dir-pproc/issues/2">implements #2</a>).
      </li>
      <li>
        Removed old PyPI project <em>aedir-pproc</em> and renamed it to
        <a href="https://pypi.org/project/ae-dir-pproc/">ae-dir-pproc</a>.
      </li>
    </ul>
  </li>
  <li>
    All attributes of object class <var>msPwdResetPolicy</var> are now
    declared as optional (MAY) because there are always config defaults
    available for all these attributes. This allows to overide configured
    defaults more easily per policy.
  </li>
  <li>
    Update to <a href="https://www.web2ldap.de/changes-1.6.html#r1.6.27">web2ldap 1.6.27+</a>
    including setting new config parameter
    <a href="http://localhost/web2ldap.de/web2ldapcnf.html#url_path">web2ldapcnf.url_path</a>.
  </li>
  <li>
    Re-factored checking whether the C wrapper modules are installed
    (<em>ldap0</em> and <em>psutil</em>) before temporarily installing
    build tools on platforms using Python virtualenv. Hopefully this
    makes upgrading these modules more easy.
  </li>
</ul>

<p id="202112231500" class="pagesubtitle">2021-12-23 - Tagged ansible-ae-dir-server 0.32.4</p>
<p>Changes since 0.32.3:</p>
<ul>
  <li>
    Update to <a href="https://www.web2ldap.de/changes-1.6.html#r1.6.26">web2ldap 1.6.26+</a>
    with minor UX improvements when handling invalid entry input.
  </li>
</ul>

<p id="202112221200" class="pagesubtitle">2021-12-22 - Tagged ansible-ae-dir-server 0.32.3</p>
<p>Changes since 0.32.2:</p>
<ul>
  <li>
    Update to <a href="https://www.web2ldap.de/changes-1.6.html#r1.6.24">web2ldap 1.6.24+</a>
    with security fix!
  </li>
</ul>

<p id="202112211200" class="pagesubtitle">2021-12-21 - Tagged ansible-ae-dir-server 0.32.2</p>
<p>Changes since 0.32.1:</p>
<ul>
  <li>
    Re-factored userPassword ACLs for providers:
    <ul>
      <li>
        New ansible var <var>aedir_aeuser_write_pw_restrictions</var> is used
        to restrict all password changes to be accept only via LDAPI.
        In case any problem occurs with that simply set to empty list.
      </li>
      <li>
        Removed search privilege. You can search for <var>pwdChangedTime</var> instead.
      </li>
      <li>
        Moved up clause "by anonymous auth" for better performance
        of bind request processing.
      </li>
    </ul>
  </li>
  <li>
    Minor changes in systemd units:
    <ul>
      <li>
        Added <code>StandardInput=null</code> and <code>RemoveIPC=yes</code>
        to <var>aedir_systemd_hardening</var>.
      </li>
      <li>
        Use <var>aedir_systemd_logging</var> also in <em>ekca-service.service</em>.
      </li>
    </ul>
  </li>
  <li>
    Added missing web2ldap HTML read template for <var>OpenLDAProotDSE.html</var>.
  </li>
</ul>

<p id="202112190000" class="pagesubtitle">2021-12-19 - Tagged ansible-ae-dir-server 0.32.1</p>
<p>Changes since 0.32.0:</p>
<ul>
  <li>
    Update to <a href="https://www.web2ldap.de/changes-1.6.html#r1.6.23">web2ldap 1.6.23+</a>.
  </li>
  <li>
    New mtail-based metrics for <em>ae-slapd</em> counting replica connection
    errors: <var>slapd_syncrepl_bind_failed</var> and <var>slapd_syncrepl_retrying</var>.
  </li>
  <li>
    Added web2ldap HTML template for displaying <var>OpenLDAProotDSE</var>.
  </li>
  <li>
    Prepared using
    <a href="https://www.openldap.org/software/man.cgi?query=slapo-dds">slapo-dds(5)</a>
    for session database.
  </li>
</ul>

<p id="202112152300" class="pagesubtitle">2021-12-15 - Tagged ansible-ae-dir-server 0.32.0</p>
<p>Changes since 0.31.3:</p>
<ul>
  <li>
    Update to <a href="https://www.web2ldap.de/changes-1.6.html#r1.6.22">web2ldap 1.6.22+</a>.
  </li>
  <li>
    Fixed initialization tasks on ansible 4.0+ by always setting
    <var>aedir_init_user</var> to <var>root</var> as default.
    You likely want to over-ride this when invoking a play.
  </li>
  <li>
    OpenLDAP 2.6 is now also installed in RHEL8-alike systems.
  </li>
  <li>
    slapd.conf:
    <br>
    Native <var>lastbind</var> directive is now used instead of obsolete
    contrib overlay <em>slapo-lastbind</em>.
    <br>
    The time-stamp of last successful bind is now stored in attribute
    <var>pwdLastSuccess</var> (see also
    <a href="https://datatracker.ietf.org/doc/html/draft-behera-ldap-password-policy-10#section-5.3.11">
      draft-behera-ldap-password-policy
    </a>).
    <br>
    For now the module <em>lastbind</em> is still loaded to preserve the
    attribute type description for <var>authTimestamp</var> in the
    subschema to avoid schema violations.
  </li>
  <li>
    Added
    <a href="https://scotthelme.co.uk/coop-and-coep/">COEP/COOP/CORP</a>
    headers to
    <a href="https://www.web2ldap.de/web2ldapcnf.html#http_headers">web2ldap's http_headers</a>.
  </li>
  <li>
    APT repo files are now created with a copy task to completely remove
    obsolete entries.
  </li>
</ul>

<p id="202112061600" class="pagesubtitle">2021-12-06 - Tagged ansible-ae-dir-server 0.31.3</p>
<p>Changes since 0.31.2:</p>
<ul>
  <li>
    Update to <em>ae-dir-pproc 1.5.9</em> which fixes a minor templating
    issue in the welcome e-mail sent to new users.
  </li>
</ul>

<p id="202112051200" class="pagesubtitle">2021-12-05 - Support for Debian buster ends 2022-02-28</p>
<p>
  Tested free support for Debian buster (10.x) will be ceased by end of February 2022:
</p>
<ul>
  <li>
    The ansible roles, especially new features, are not guaranteed to
    work on Debian buster anymore.
  </li>
  <li>
    The <a href="https://ae-dir.com/repo/debian/buster/">apt repository for buster</a>
    will be available until 2022-08 to match
    <a href="https://wiki.debian.org/DebianReleases#Production_Releases">
    Debian's production support</a> but packages will not be updated anymore.
  </li>
  <li>
    The builds of Debian packages
    <a href="https://code.stroeder.com/AE-DIR/debian-openldap-ms">openldap-ms</a> and
    <a href="https://code.stroeder.com/AE-DIR/debian-aehostd-modules">aehostd-modules</a>
    are not guaranteed to work on Debian buster anymore.
  </li>
  <li>
    Pull requests with specific backward-compability fixes for Debian buster
    will likely not be accepted.
  </li>
</ul>

<p id="202112042200" class="pagesubtitle">2021-12-04 - New web content</p>
<p>
  There are two new sub-pages available:
</p>
<ul>
  <li><a href="news.html">List of project announcements / news</a></li>
  <li><a href="devel.html">Information about development resources / issue tracker</a></li>
</ul>

<p id="202112031600" class="pagesubtitle">2021-12-03 - Tagged ansible-ae-dir-server 0.31.2</p>
<p>Changes since 0.31.1:</p>
<ul>
  <li>
    Dropped support for running with accesslog database on read-only consumers.
    With OpenLDAP 2.6 there is no useful data (e.g. authTimestamp-updates)
    therein anymore.
  </li>
  <li>
    Renamed mis-named var to correct name <code>openldap_slapo_allowed</code>.
  </li>
  <li>
    Use <code>aedir_db_params</code> for generating AppArmor profile for ae-slapd.
  </li>
  <li>
    <code>ae-dir-replica-reset.sh</code> is now also generated based on
    ansible var <code>aedir_db_params</code>.
  </li>
</ul>

<p id="202112030000" class="pagesubtitle">2021-12-03 - Tagged ansible-ae-dir-server 0.31.1</p>
<p>Changes since 0.30.0:</p>
<ul>
  <li>
    Attribute <var>sudoOrder</var> can now be used in sudoers entries.
  </li>
  <li>
    Heavy re-factoring of specifying database parameters. Applying the changes
    to existing deployments should work without issues, except some custom HTML
    templates for web2ldap might need tweaking.
  </li>
  <li>
    The maintenance scripts were re-factored to not require a running slapd
    instance which should help to recover from issues more quickly. The scripts
    are now listed in the CLI usage docs.
  </li>
  <li>
    <code>ae-dir-slapcat.sh</code> now uses the simple database names (accesslog, um)
    instead of the suffix in the filename of exported LDIF files to avoid equal
    signs which are special chars in a shell.
  </li>
</ul>

<p id="202112020000" class="pagesubtitle">2021-12-02 - git repos moved</p>
<p>
  All git repos of &AElig;-DIR's code were moved to a new location where you
  can also file tickets (and submit pull requests):
</p>
<p>
  <a href="https://code.stroeder.com/AE-DIR">
    https://code.stroeder.com/AE-DIR
  </a>
</p>
<p>
  Some Python module packages are now in a more generic org:
</p>
<p>
  <a href="https://code.stroeder.com/pymod">
    https://code.stroeder.com/pymod
  </a>
</p>
<p>
  The repos are still mirrored at gitlab.com for automated testing but
  without using anything like ticket queues or similar:
</p>
<p>
  <a href="https://gitlab.com/ae-dir">
    https://gitlab.com/ae-dir
  </a>
</p>

<p id="202111251600" class="pagesubtitle">2021-11-25 - Tagged ansible-ae-dir-server 0.30.0</p>
<p>Changes since 0.29.1:</p>
<ul>
  <li>
    <em>slapo-allowed</em> was activated which enables <em>web2ldap</em> to
    show whether the user has write access to an attribute. If the user is not
    allowed to change an attribute only the value will be shown, no input
    field.
  </li>
  <li>
    New tool scripts:
    <ul>
      <li>
        <code>/opt/ae-dir/sbin/ae-dir-slapindex.sh</code> re-indexes all databases
      </li>
      <li>
        <code>/opt/ae-dir/sbin/ae-dir-reload.sh</code> exports and re-imports all databases
      </li>
    </ul>
  </li>
  <li>
    Several software updates: web2ldap, python-ldap0, ae-dir-pproc, slapdcheck
  </li>
  <li>
    mtail now extracts etime for slapd_result metric into a bucket.
  </li>
  <li>
    Code-cleaning:
    <ul>
      <li>Removed various obsolete stuff</li>
      <li>Fixed ansible syntax</li>
    </ul>
  </li>
  <li>
    <ul>
      openSUSE/SLE repos:
      <li>Dropped support for openSUSE Leap 15.2 and SLE15SP2</li>
      <li>now same Leap and SLE repo used</li>
      <li>Added repo URL for upcoming Leap 15.4 and SLE15SP4</li>
    </ul>
  </li>
</ul>

{% endblock content %}
